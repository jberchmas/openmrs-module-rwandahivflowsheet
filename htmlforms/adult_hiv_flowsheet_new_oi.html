<htmlform>

    <macros>
		@PATIENT_IDENTIFIER@=IMB ID
    	
		@CURRENT_OPPORTUNISTIC_INFECTION_CONSTRUCT@=6900
		@CURRENT_OPPORTUNISTIC_INFECTION@=1607
		@CURRENT_OPPORTUNISTIC_INFECTION_NON_CODED@=1731
		@WHO_STAGE@=1480
		@CLINICAL_IMPRESSION_COMMENTS@=1364

		@WHO_STAGE_1_ADULT@=1204
		@WHO_STAGE_2_ADULT@=1205
		@WHO_STAGE_3_ADULT@=1206
		@WHO_STAGE_4_ADULT@=1207

		@OTHER_NON_CODED@=5622
    </macros>

	<link type="text/css" rel="stylesheet" href="/openmrs/moduleResources/rwandaadulthivflowsheet/adult_hiv_flowsheet_new_row.css" />
	
	<table border="2" cellspacing="0" cellpadding="6" width="100%">
		<tr>
			<td>
				<b>
					$@PATIENT_IDENTIFIER@: <lookup class="value" expression="patientIdentifiers.get(&quot;$@PATIENT_IDENTIFIER@&quot;)" />
				</b>
			</td>
			<td>
				Date: <encounterDate default="today"/>
			</td>
			<td>
				Clinique / Clinic: <encounterLocation />
			</td>
			<td>
				Nom / Signature: <encounterProvider role="HIV Patient Provider"/>
			</td>
		</tr>
	</table>
	
	<section headerLabel="INFECTIONS OPPORTUNISTES / OPPORTUNISTIC INFECTIONS">
		<table border="1" width="100%">
			<obsgroup groupingConceptId="$@CURRENT_OPPORTUNISTIC_INFECTION_CONSTRUCT@">
			<tr>
				<th width="20%">Diagnostic /<br/>Diagnosis</th>
				<td>
					<obs conceptId="$@CURRENT_OPPORTUNISTIC_INFECTION@" id="currentOpportunisticInfection" required="true"/>
					<obs conceptId="$@CURRENT_OPPORTUNISTIC_INFECTION_NON_CODED@" id="currentOpportunisticInfectionNonCoded" size="40"/>
				</td>
			</tr>
			<tr>
				<th>Stade OMS /<br/>Stage WHO</th>
				<td>
					<obs conceptId="$@WHO_STAGE@" answerConceptIds="$@WHO_STAGE_1_ADULT@,$@WHO_STAGE_2_ADULT@,$@WHO_STAGE_3_ADULT@,$@WHO_STAGE_4_ADULT@" answerLabels="1,2,3,4" style="radio"/> <br/>
				</td>
			</tr>
			<tr>
				<th>Commentaire /<br/>Comment</th>
				<td><obs conceptId="$@CLINICAL_IMPRESSION_COMMENTS@" rows="4" cols="40" /></td>
			</tr>
			</obsgroup>
		</table>
	</section>
	
	<br />
	<center><submit /></center>
	<br />

<script type="text/javascript">
	
$j(document).ready(function() {
	getField('currentOpportunisticInfectionNonCoded.value')[0].disabled = true;

	getField('currentOpportunisticInfection.value').change(function() {
		if(getValue('currentOpportunisticInfection.value') == $@OTHER_NON_CODED@) {
			getField('currentOpportunisticInfectionNonCoded.value')[0].disabled = false;
		} else {
			getField('currentOpportunisticInfectionNonCoded.value')[0].disabled = true;
		}
	});
});

</script>

</htmlform>